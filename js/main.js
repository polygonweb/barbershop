!function(e){"use strict";function t(){return d.createDocumentFragment()}function n(e){return d.createElement(e)}function r(e,t){if(!e)throw new Error("Failed to construct "+t+": 1 argument required, but only 0 present.")}function o(e){if(1===e.length)return i(e[0]);for(var n=t(),r=W.call(e),o=0;o<e.length;o++)n.appendChild(i(r[o]));return n}function i(e){return"string"==typeof e?d.createTextNode(e):e}for(var a,c,s,l,u,d=e.document,h=Object.prototype.hasOwnProperty,p=Object.defineProperty||function(e,t,n){return h.call(n,"value")?e[t]=n.value:(h.call(n,"get")&&e.__defineGetter__(t,n.get),h.call(n,"set")&&e.__defineSetter__(t,n.set)),e},f=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},v=function(e){if(!e)throw"SyntaxError";if(b.test(e))throw"InvalidCharacterError";return e},y=function(e){var t="undefined"==typeof e.className,n=t?e.getAttribute("class")||"":e.className,r=t||"object"==typeof n,o=(r?t?n:n.baseVal:n).replace(E,"");o.length&&R.push.apply(this,o.split(b)),this._isSVG=r,this._=e},m={get:function(){return new y(this)},set:function(){}},g="dom4-tmp-".concat(Math.random()*+new Date).replace(".","-"),E=/^\s+|\s+$/g,b=/\s+/,_=" ",w="classList",L=function(e,t){return this.contains(e)?t||this.remove(e):(void 0===t||t)&&(t=!0,this.add(e)),!!t},S=e.DocumentFragment&&DocumentFragment.prototype,k=e.Node,A=(k||Element).prototype,q=e.CharacterData||k,C=q&&q.prototype,K=e.DocumentType,M=K&&K.prototype,T=(e.Element||k||e.HTMLElement).prototype,x=e.HTMLSelectElement||n("select").constructor,O=x.prototype.remove,N=e.ShadowRoot,D=e.SVGElement,j=/ /g,F="\\ ",G=function(e){var t="querySelectorAll"===e;return function(n){var r,o,i,a,c,s,l=this.parentNode;if(l){for(i=this.getAttribute("id")||g,a=i===g?i:i.replace(j,F),s=n.split(","),o=0;o<s.length;o++)s[o]="#"+a+" "+s[o];n=s.join(",")}if(i===g&&this.setAttribute("id",i),c=(l||this)[e](n),i===g&&this.removeAttribute("id"),t)for(o=c.length,r=new Array(o);o--;)r[o]=c[o];else r=c;return r}},H=(function(e){"query"in e||(e.query=T.query),"queryAll"in e||(e.queryAll=T.queryAll)}),R=["matches",T.matchesSelector||T.webkitMatchesSelector||T.khtmlMatchesSelector||T.mozMatchesSelector||T.msMatchesSelector||T.oMatchesSelector||function(e){var t=this.parentNode;return!!t&&-1<f.call(t.querySelectorAll(e),this)},"closest",function(e){for(var t,n=this;(t=n&&n.matches)&&!n.matches(e);)n=n.parentNode;return t?n:null},"prepend",function(){var e=this.firstChild,t=o(arguments);e?this.insertBefore(t,e):this.appendChild(t)},"append",function(){this.appendChild(o(arguments))},"before",function(){var e=this.parentNode;e&&e.insertBefore(o(arguments),this)},"after",function(){var e=this.parentNode,t=this.nextSibling,n=o(arguments);e&&(t?e.insertBefore(n,t):e.appendChild(n))},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var e=this.parentNode;e&&e.replaceChild(o(arguments),this)},"remove",function(){var e=this.parentNode;e&&e.removeChild(this)},"query",G("querySelector"),"queryAll",G("querySelectorAll")],W=R.slice,P=R.length;P;P-=2)if(c=R[P-2],c in T||(T[c]=R[P-1]),"remove"===c&&(x.prototype[c]=function(){return 0<arguments.length?O.apply(this,arguments):T.remove.call(this)}),/^(?:before|after|replace|replaceWith|remove)$/.test(c)&&(q&&!(c in C)&&(C[c]=R[P-1]),K&&!(c in M)&&(M[c]=R[P-1])),/^(?:append|prepend)$/.test(c))if(S)c in S||(S[c]=R[P-1]);else try{t().constructor.prototype[c]=R[P-1]}catch(V){}if(H(d),S)H(S);else try{H(t().constructor.prototype)}catch(V){}N&&H(N.prototype),n("a").matches("a")||(T[c]=function(e){return function(n){return e.call(this.parentNode?this:t().appendChild(this),n)}}(T[c])),y.prototype={length:0,add:function(){for(var e,t=0;t<arguments.length;t++)e=arguments[t],this.contains(e)||R.push.call(this,c);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},contains:function(e){return function(t){return P=e.call(this,c=v(t)),-1<P}}([].indexOf||function(e){for(P=this.length;P--&&this[P]!==e;);return P}),item:function(e){return this[e]||null},remove:function(){for(var e,t=0;t<arguments.length;t++)e=arguments[t],this.contains(e)&&R.splice.call(this,P,1);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},toggle:L,toString:function(){return R.join.call(this,_)}},D&&!(w in D.prototype)&&p(D.prototype,w,m),w in d.documentElement?(l=n("div")[w],l.add("a","b","a"),"a b"!=l&&(s=l.constructor.prototype,"add"in s||(s=e.TemporaryTokenList.prototype),u=function(e){return function(){for(var t=0;t<arguments.length;)e.call(this,arguments[t++])}},s.add=u(s.add),s.remove=u(s.remove),s.toggle=L)):p(T,w,m),"contains"in A||p(A,"contains",{value:function(e){for(;e&&e!==this;)e=e.parentNode;return this===e}}),"head"in d||p(d,"head",{get:function(){return a||(a=d.getElementsByTagName("head")[0])}}),function(){for(var t,n=e.requestAnimationFrame,r=e.cancelAnimationFrame,o=["o","ms","moz","webkit"],i=o.length;!r&&i--;)n=n||e[o[i]+"RequestAnimationFrame"],r=e[o[i]+"CancelAnimationFrame"]||e[o[i]+"CancelRequestAnimationFrame"];r||(n?(t=n,n=function(e){var n=!0;return t(function(){n&&e.apply(this,arguments)}),function(){n=!1}},r=function(e){e()}):(n=function(e){return setTimeout(e,15,15)},r=function(e){clearTimeout(e)})),e.requestAnimationFrame=n,e.cancelAnimationFrame=r}();try{new e.CustomEvent("?")}catch(V){e.CustomEvent=function(e,t){function n(n,o){var i=d.createEvent(e);if("string"!=typeof n)throw new Error("An event name must be provided");return"Event"==e&&(i.initCustomEvent=r),null==o&&(o=t),i.initCustomEvent(n,o.bubbles,o.cancelable,o.detail),i}function r(e,t,n,r){this.initEvent(e,t,n),this.detail=r}return n}(e.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}try{new Event("_")}catch(V){V=function(e){function t(e,t){r(arguments.length,"Event");var n=d.createEvent("Event");return t||(t={}),n.initEvent(e,!!t.bubbles,!!t.cancelable),n}return t.prototype=e.prototype,t}(e.Event||function(){}),p(e,"Event",{value:V}),Event!==V&&(Event=V)}try{new KeyboardEvent("_",{})}catch(V){V=function(t){function n(e){for(var t=[],n=["ctrlKey","Control","shiftKey","Shift","altKey","Alt","metaKey","Meta","altGraphKey","AltGraph"],r=0;r<n.length;r+=2)e[n[r]]&&t.push(n[r+1]);return t.join(" ")}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&!t.hasOwnProperty.call(e,n)&&(e[n]=t[n]);return e}function i(e,t,n){try{t[e]=n[e]}catch(r){}}function a(t,a){r(arguments.length,"KeyboardEvent"),a=o(a||{},l);var u,h=d.createEvent(c),p=a.ctrlKey,f=a.shiftKey,v=a.altKey,y=a.metaKey,m=a.altGraphKey,g=s>3?n(a):null,E=String(a.key),b=String(a["char"]),_=a.location,w=a.keyCode||(a.keyCode=E)&&E.charCodeAt(0)||0,L=a.charCode||(a.charCode=b)&&b.charCodeAt(0)||0,S=a.bubbles,k=a.cancelable,A=a.repeat,q=a.locale,C=a.view||e;if(a.which||(a.which=a.keyCode),"initKeyEvent"in h)h.initKeyEvent(t,S,k,C,p,v,f,y,w,L);else if(0<s&&"initKeyboardEvent"in h){switch(u=[t,S,k,C],s){case 1:u.push(E,_,p,f,v,y,m);break;case 2:u.push(p,v,f,y,w,L);break;case 3:u.push(E,_,p,v,f,y,m);break;case 4:u.push(E,_,g,A,q);break;default:u.push(char,E,_,g,A,q)}h.initKeyboardEvent.apply(h,u)}else h.initEvent(t,S,k);for(E in h)l.hasOwnProperty(E)&&h[E]!==a[E]&&i(E,h,a);return h}var c,s=0,l={"char":"",key:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,altGraphKey:!1,repeat:!1,locale:navigator.language,detail:0,bubbles:!1,cancelable:!1,keyCode:0,charCode:0,which:0};try{var u=d.createEvent("KeyboardEvent");u.initKeyboardEvent("keyup",!1,!1,e,"+",3,!0,!1,!0,!1,!1),s="+"==(u.keyIdentifier||u.key)&&3==(u.keyLocation||u.location)&&(u.ctrlKey?u.altKey?1:3:u.shiftKey?2:4)||9}catch(h){}return c=0<s?"KeyboardEvent":"Event",a.prototype=t.prototype,a}(e.KeyboardEvent||function(){}),p(e,"KeyboardEvent",{value:V}),KeyboardEvent!==V&&(KeyboardEvent=V)}try{new MouseEvent("_",{})}catch(V){V=function(t){function n(t,n){r(arguments.length,"MouseEvent");var o=d.createEvent("MouseEvent");return n||(n={}),o.initMouseEvent(t,!!n.bubbles,!!n.cancelable,n.view||e,n.detail||1,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,!!n.ctrlKey,!!n.altKey,!!n.shiftKey,!!n.metaKey,n.button||0,n.relatedTarget||null),o}return n.prototype=t.prototype,n}(e.MouseEvent||function(){}),p(e,"MouseEvent",{value:V}),MouseEvent!==V&&(MouseEvent=V)}}(window),function(e){"use strict";function t(){}function n(e,t,r){function o(e){o.once&&(e.currentTarget.removeEventListener(e.type,t,o),o.removed=!0),o.passive&&(e.preventDefault=n.preventDefault),"function"==typeof o.callback?o.callback.call(this,e):o.callback&&o.callback.handleEvent(e),o.passive&&delete e.preventDefault}return o.type=e,o.callback=t,o.capture=!!r.capture,o.passive=!!r.passive,o.once=!!r.once,o.removed=!1,o}var r=e.WeakMap||function(){function e(e,t,n){c=n,a=!1,r=void 0,e.dispatchEvent(t)}function t(e){this.value=e}function n(){o++,this.__ce__=new i("@DOMMap:"+o+Math.random())}var r,o=0,a=!1,c=!1;return t.prototype.handleEvent=function(e){a=!0,c?e.currentTarget.removeEventListener(e.type,this,!1):r=this.value},n.prototype={constructor:n,"delete":function(t){return e(t,this.__ce__,!0),a},get:function(t){e(t,this.__ce__,!1);var n=r;return r=void 0,n},has:function(t){return e(t,this.__ce__,!1),a},set:function(n,r){return e(n,this.__ce__,!0),n.addEventListener(this.__ce__.type,new t(r),!1),this}},n}();t.prototype=(Object.create||Object)(null),n.preventDefault=function(){};var o,i=e.CustomEvent,a=(Object.prototype.hasOwnProperty,e.dispatchEvent),c=e.addEventListener,s=e.removeEventListener,l=0,u=function(){l++},d=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},h=function(e){return"".concat(e.capture?"1":"0",e.passive?"1":"0",e.once?"1":"0")};try{c("_",u,{once:!0}),a(new i("_")),a(new i("_")),s("_",u,{once:!0})}catch(p){}1!==l&&function(){function i(e){return function(r,o,i){if(i&&"boolean"!=typeof i){var a,s,l,u=c.get(this),p=h(i);u||c.set(this,u=new t),r in u||(u[r]={handler:[],wrap:[]}),s=u[r],a=d.call(s.handler,o),a<0?(a=s.handler.push(o)-1,s.wrap[a]=l=new t):l=s.wrap[a],p in l||(l[p]=n(r,o,i),e.call(this,r,l[p],l[p].capture))}else e.call(this,r,o,i)}}function a(e){return function(t,n,r){if(r&&"boolean"!=typeof r){var o,i,a,s,l=c.get(this);if(l&&t in l&&(a=l[t],i=d.call(a.handler,n),-1<i&&(o=h(r),s=a.wrap[i],o in s))){e.call(this,t,s[o],s[o].capture),delete s[o];for(o in s)return;a.handler.splice(i,1),a.wrap.splice(i,1),0===a.handler.length&&delete l[t]}}else e.call(this,t,n,r)}}var c=new r;o=function(e){if(e){var t=e.prototype;t.addEventListener=i(t.addEventListener),t.removeEventListener=a(t.removeEventListener)}},e.EventTarget?o(EventTarget):(o(e.Text),o(e.Element||e.HTMLElement),o(e.HTMLDocument),o(e.Window||{prototype:e}),o(e.XMLHttpRequest))}()}(self),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(this,function(){"use strict";function e(e){if(!e||1!==e.nodeType)throw new Error("A DOM Element reference is required");this.el=e,this.classList=e.classList}function t(e,t){if(t=t||"a method","string"!=typeof e)throw new TypeError("Failed to execute '"+t+"' on 'ClassList': the token provided ('"+e+"') is not a string.");if(""===e)throw new SyntaxError("Failed to execute '"+t+"' on 'ClassList': the token provided must not be empty.");if(/\s/.test(e))throw new Error("Failed to execute '"+t+"' on 'ClassList': the token provided ('"+e+"') contains HTML space characters, which are not valid in tokens.")}function n(e,t){var n=window.Element.prototype,r=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!e||1!==e.nodeType)return!1;var o=e.parentNode;if(r)return r.call(e,t);for(var i=o.querySelectorAll(t),a=i.length,c=0;c<a;c++)if(i[c]===e)return!0;return!1}var r=function(t){return new e(t)};e.prototype.toArray=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,""),t=e.split(/\s+/);return""===t[0]&&t.shift(),t},e.prototype.add=function(e){var n,r;t(e,"add"),this.classList?this.classList.add(e):(n=this.toArray(),r=n.indexOf(e),r===-1&&(n.push(e),this.el.setAttribute("class",n.join(" "))))},e.prototype.contains=function(e){return t(e,"contains"),this.classList?this.classList.contains(e):this.toArray().indexOf(e)>-1},e.prototype.remove=function(e){var n,r,o,i,a;if("[object RegExp]"==Object.prototype.toString.call(e))for(n=this.toArray(),o=0,a=n.length;o<a;o++)e.test(n[o])&&this.remove(n[o]);else t(e,"remove"),this.classList?this.classList.remove(e):(r=this.toArray(),i=r.indexOf(e),i>-1&&(r.splice(i,1),this.el.setAttribute("class",r.join(" "))))},e.prototype.toggle=function(e,n){t(e,"toggle");var r=this.contains(e),o=r?n!==!0&&"remove":n!==!1&&"add";return o&&this[o](e),"boolean"==typeof n?n:!r};var o=n;document.addEventListener("DOMContentLoaded",function(){function e(e){return o(e,u)&&o(e,":not([readonly])")}function t(e){r(e).contains("focus-ring")||(r(e).add("focus-ring"),e.setAttribute("data-focus-ring-added",""))}function n(e){e.hasAttribute("data-focus-ring-added")&&(r(e).remove("focus-ring"),e.removeAttribute("data-focus-ring-added"))}function i(){s=!0,o(document.activeElement,":focus")&&t(document.activeElement),0!==l&&clearTimeout(l),l=setTimeout(function(){s=!1,l=0},100)}function a(n){(s||e(n.target))&&t(n.target)}function c(e){n(e.target)}var s=!1,l=0,u=["input:not([type])","input[type=text]","input[type=search]","input[type=url]","input[type=tel]","input[type=email]","input[type=password]","input[type=number]","input[type=date]","input[type=month]","input[type=week]","input[type=time]","input[type=datetime]","input[type=datetime-local]","textarea","[role=textbox]"].join(",");document.body.addEventListener("keydown",i,!0),document.body.addEventListener("focus",a,!0),document.body.addEventListener("blur",c,!0)})}),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),function(){function e(){var e=document.createElement("div");e.style.cssText="width: 99px !important;height: 99px !important;border: 0 !important;padding: 0 !important;overflow: scroll !important;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function t(e){return e.scrollHeight>e.offsetHeight}function n(e){if(e)return{isOpen:function(){e.classList.contains("modal_show")},open:function(n){return e.classList.add("modal_show"),c.style.paddingRight=t(c)?s+"px":"",c.classList.add("page_modal-open"),document.addEventListener("click",r),"function"==typeof n&&n(),this},close:function(t){var n=e.querySelector(".modal__dialog");return n.addEventListener("transitionend",function o(e){e.target===n&&(n.removeEventListener("transitionend",o),c.classList.remove("page_modal-open"),c.style.paddingRight="")}),e.classList.remove("modal_show"),document.removeEventListener("click",r),"function"==typeof t&&t(),this},toggle:function(e){return this.isOpen()?this.close(e):this.open(e),this}}}function r(e){var t=e.target.closest(".modal");if(t){var r=t.querySelector(".modal__dialog");r&&(r.contains(e.target)||n(t).close())}}function o(e){var t=e.target.closest("[data-modal]");if(t)try{var r=JSON.parse(t.getAttribute("data-modal")),o=document.querySelector(r.target);n(o)[r.action](),e.preventDefault()}catch(e){console.error("Ошибка обработки атрибута data-modal")}}function i(e){var t=e.target.closest(".modal__close");if(t){var r=t.closest(".modal");r&&(n(r).close(),e.preventDefault())}}function a(e){27===e.keyCode&&document.querySelectorAll(".modal_show").forEach(function(e){n(e).close()})}var c=document.body,s=e();document.addEventListener("click",o),document.addEventListener("click",i),document.addEventListener("keyup",a),window.modal=n}(),function(){function e(){modal(s).open(function(){var e=localStorage.getItem("username");e?(a.value=e,setTimeout(function(){c.focus()},500)):setTimeout(function(){a.focus()},500)})}function t(){o.classList.remove("auth-form_error")}function n(){return[a,c].every(function(e){return e.validity.valid})}function r(e){o.classList.remove("auth-form_error");var r=n();r?(o.reset(),modal(s).close(t)):(o.classList.add("auth-form_error"),setTimeout(function(){o.classList.remove("auth-form_error")},500),localStorage.setItem("username",a.value)),e.preventDefault()}var o=document.querySelector(".auth-form");if(o){var i=document.querySelector("[data-auth-link]"),a=o.querySelector(".auth-form__input_user"),c=o.querySelector(".auth-form__input_password"),s=document.querySelector("#auth-modal");o.noValidate=!0,i.addEventListener("click",e),o.addEventListener("submit",r)}}(),function(){function e(e){r[c].classList.remove(s),c=(c+e+a)%a,r[c].classList.add(s)}var t=document.querySelector(".widget-gallery");if(t){var n=t.querySelector(".widget-gallery__list"),r=t.querySelectorAll(".widget-gallery__item"),o=t.querySelector("[data-prev]"),i=t.querySelector("[data-next]"),a=r.length,c=0,s="widget-gallery__item_active";r[c].classList.add(s),t.classList.remove("widget-gallery_fallback");var l=e.bind(null,1),u=e.bind(null,-1);n.addEventListener("click",l),i.addEventListener("click",l),o.addEventListener("click",u)}}(),function(){var e=document.querySelector(".product-gallery");if(e){var t=e.querySelector(".product-gallery__image_main img"),n=e.querySelectorAll("a.product-gallery__image");n.forEach(function(e){e.onclick=function(e){var n=this.href;t.src=n,e.preventDefault()}})}}();